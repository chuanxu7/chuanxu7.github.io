<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="A man live on growth">
<meta property="og:type" content="website">
<meta property="og:title" content="Chuan&#39;s Formation">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Chuan&#39;s Formation">
<meta property="og:description" content="A man live on growth">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chuan&#39;s Formation">
<meta name="twitter:description" content="A man live on growth">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Chuan's Formation</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-112744730-1', 'auto');
  ga('send', 'pageview');
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chuan's Formation</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Salute to the Derivative</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/27/20180527 efficence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/20180527 efficence/" itemprop="url">高效率的重新认识--《周鸿祎传》读后感</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-27T16:15:27-04:00">
                2018-05-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/27/20180527 efficence/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/27/20180527 efficence/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/05/27/20180527 efficence/" class="leancloud_visitors" data-flag-title="高效率的重新认识--《周鸿祎传》读后感">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>周鸿祎是360的老总，很早就闯入了我的视野。但给我的是一个流氓、霸蛮的形象。记得当年3Q大战的时候，我义无反顾的删除了360，换成了QQ管家。除了在抢火车票用360浏览器外，我几乎不使用360的产品，即使用也是用完就删。</p>
<p>但是，最近我在听得到APP里梁宁的产品思维三十讲时，发现这位“中关村才女”对他的评价很高，称他是中关村的豪杰，互联网的战神。于是, 我怀疑自己是不是误读了他。所以，我读了他最近出版的传记：颠覆者-周鸿祎传。虽然说自己写的传记可能会美化自己，但是书中的大量细节还是让我了解了一个更具体生动的周鸿祎。</p>
<p>首先，整本书给我的感觉是态度很诚恳，让他的整个成长轨迹跃然纸上。小时候的经历铸就了他好斗的性格，爱好阅读、爱计算机为他成为优秀的产品经理打下基础。他进入西安交通大学学习计算机，并一直在这条路上越走越远。总的来看，他是一个性格坚韧、技术扎实、有想法敢实践的产品经理。他的成长、发展经历中对我触动最深刻的是在多个重大关口的选择。</p>
<h2 id="第一关：上大学"><a href="#第一关：上大学" class="headerlink" title="第一关：上大学"></a>第一关：上大学</h2><p>对于很多人来说，人生的第一个重大关口是上大学，对他来说也是这样（不上大学一样有获得成功的可能，但本文中不讨论）。他高中走的是参加竞赛，获得名次保送的路子。虽然前期准备得很好，但是在关键的考试中没有取得预期的成绩而导致他保送资格落空。但好在老师的写信推荐下，他首先得到了华南工学院的食品工程专业录取，这是在破釜成舟状态下（因为竞赛耽误了正常的上课）的好消息，至少能保证有学可上了。但他想学的是计算机，于是坚决不接受这样的录取。后来，他被西安交大的通讯和计算机教改班所录取。拿到通知书的那段时间，他描述了一段对他自己人生意义影响重大的文字，出自《中国青年》杂志：</p>
<blockquote>
<p>几个大学生，毕业之后被分配到了航天部、研究院等政府部门工作。但是他们心怀大志，不愿意在机关里混日子，想用自己的力量做出真正的产品。于是，他们集体辞职，创立了一家软件公司，每天每日每夜地写程序、做软件，等稍微有一点钱，大家就合资买了一辆车，夏天开着车去北戴河游泳放松，等充满电再回来疯狂地编程。日子过得有松有驰，所有的人是被宏伟的目标所驱动的。</p>
</blockquote>
<p>这段话对我非常有促动，原因并不是从国家单位辞职、自己做公司需要多大的勇气，抑或有多酷（相反，我认为在国家单位里依然能够干出一番成就），而是感受到在那个物质匮乏的年代，目标是如何驱动人们并发挥巨大的精神力量的。受到启发，深感目标驱动力量的强大。于是，我也开始对我的日常工作方式进行改革：在目标层，先列出近期需要完成的小目标（不是一个亿，而是一个具体的任务，小到数据处理得出结果，大到完成一篇文章等等），几天内全部的时间都投入到这个目标；在执行层面，我把时间拆分成一个一个的小时，每开始一个小时工作的时候都在手表上定一个1小时的倒计时，在这个倒计时没有结束前，我都必须聚焦在当前手里的事情上，连洗手间也不允许上；在记录层面，我找到了一个App叫做Done，每完成一个小时的集中精力做事，我都会在这个App中记录一个小时，这样我就能清楚的知道：当天我真正有多少时间投入在这个目标上了。在刚开始这样尝试的几天里，这样的驱动已经让我的效率发生了革命性的提升，现在努力让它成为我的习惯。</p>
<p>我看这些厉害的人的传记，常常感叹：这些人干的都是自己发自内心热爱的事情，并且被自己设定在这件事上的目标所驱动，于是选择一个自己发自内心的事情持续的做是多么重要的一个选择。</p>
<h2 id="第二关：大学中做什么、学什么"><a href="#第二关：大学中做什么、学什么" class="headerlink" title="第二关：大学中做什么、学什么"></a>第二关：大学中做什么、学什么</h2><p>对于不少人来说，大学是一个疗伤的阶段，因为中学的压力太大，现在终于没有了父母的管束、高考的压力，可以尽情的放飞自我了。但周鸿祎却在大学里经历了很多人不曾经历过的事情。（他的大学阶段包括4年本科和2年多的硕士）</p>
<p>第一个比较特别的就是人生中的第一次商业活动，练摊。要迈出这一步也不容易，因为要能克服周围不同声音的影响。这次经历在某种程度上潜移默化的简历了他对商业的兴趣和信心。另外，他花了大量的时间去学习软件、编程、电路等等，成了彻头彻尾的计算机“疯子”。正是这样的积累让他成为了基础过硬的程序员，为日后的工作和创业都打下了基础。</p>
<p>另一个比较特别的经历就是被学校公安怀疑偷了学校机房的内存和显卡，而被带到公安处审讯的经历，这段经历中涉及了长时间不让睡觉（感慨我们的法制进程还需推进，让嫌疑人有正常睡觉这么基本的权力一直没有受到保护…）、心理防线的攻击等等。经历过人间冷暖的人，可能更容易以一种平静的心态去对待挫折吧。我觉得有了这一次经历，周鸿祎开始变得完整了。</p>
<p>在我们人生的早期阶段，是更多的接触到这个世界的善意。比如我们的儿童时期被社会法律严格的保护这，涉及到儿童的犯罪都是重罪，在生活多得到的多是鼓励而很少有打击。但这只是这个世界的一个侧面，真实的世界不仅有善意，也有恶意。当你遇到世界的恶意的时候，还能坚韧的挺过来，笑对人生冷暖，那你就真的完整了，这就是所谓的“正反和”吧。</p>
<p>周鸿祎在经历过这件事后没有怀疑人生，消沉下来，而是恢复调整过来继续前行，这就很不容易了。这也是为什么他能度过多次重大人生关口的原因：</p>
<blockquote>
<p>今天总结起来，我觉得我也是一个乐观主义者。对于创业这件事情，很多人都是说了半天，却很难行动起来。而我恰恰相反，经常想好了就去行动，这并不是说我多么无所畏惧，其实我只是对困难严重估计不足。说起来有点天真，但是在做事情的过程中，我都是尽一切努力把困难排除。比如，这个偶发事件就是我在创业路上碰到的一个大波折。虽然沮丧，但都是“渡尽劫波”。这后来成了我做事一以贯之的方法和态度——先上车再说，路上再遇神杀神，遇佛杀佛。</p>
</blockquote>
<p>事后，他提到《王朔全集》治愈了他内心的阴霾。<br>后来他又继续创业，继续折腾，遭遇了更多的挫折，最后选择了“妥协”，回到学校写完硕士论文，正常答辩毕业。</p>
<p>这里面有两个关于周鸿祎西安交大老师的细节，发现遇到好老师确实是一个人一生的财富，同时也感觉自己肩上担子沉甸甸的。一个是他在教改班的班主任陆诗娣，在公安处审讯的那段经历中有这样一段话：</p>
<blockquote>
<p>见到陆老师，我流下了眼泪，把事情的前因后果都说了一遍，而陆老师的沉静给了我很大的勇气。她对我说：“小周，你要相信老师，相信学校。做过的事情就实话实说，没有做过的事儿，一定不能胡说乱说。</p>
</blockquote>
<p>另一个是他的硕士导师李怀祖，在他颠沛流离两年后，创业失败回到学校有这样一段话：</p>
<blockquote>
<p>1995年大年初二，我回到了学校，一切好像又回到了大学毕业时的那个原点。<br>我给导师李怀祖写了一份检查，宽容的导师原谅了我。我至今还记得我去找导师的那天，李教授不但没有大肆批评我无法无天的“消失”，反而当着在场的二十多个博士和十多个硕士表扬了我，这个场景非常具有戏剧性。他说：“在你们这些人里，就小周将来可能最有出息。”我听了这句话，本来低着的头马上抬了起来，感觉不敢相信。导师接着话锋一转，说：“因为我发现，你们都是正常人，只有小周不太正常！”大家哈哈大笑起来。导师接着说：“小周的思维方式和正常人不一样，将来，他要么就是最失败的那个人，要么就是大获成功。<br>我露出了惭愧的笑容。</p>
</blockquote>
<h2 id="第三关：职场生涯"><a href="#第三关：职场生涯" class="headerlink" title="第三关：职场生涯"></a>第三关：职场生涯</h2><p>这一段的信息量是最大的，从毕业后的初入职场，用创业者的心态去打工—决定投身方正，到离开方正创立3721（非典期间别人都不敢坐飞机，他坐着飞机全国到处跑去拓展3721的市场），再到后来的与百度对薄公堂，需求与谷歌合作未果，将3721买给雅虎并成为雅虎中国的职业经理人，创立奇虎360，到后来的3Q大战。经历很多，细节也很丰富，其中最疯狂的一段描述在于3Q大战中：</p>
<blockquote>
<p>原来，随着“360扣扣保镖”的装机量急速上升，有人已经举报到了公安部，希望将360的反击定义为“刑事犯罪”，认为360破坏了QQ的软件和计算机系统。<br>本来是腾讯和360两家公司之间的商业竞争，现在已经上升到让公安机关来关注的高度。而且，这些警察来自外地。<br>30多个警察当时出现在北京四惠桥畔的360公司总部，如果我出现，虽然不知道是否会被带走调查，但我和老齐都本能地知道，在一场大战即将爆发的生死关头，无须任何坐实的犯罪指控，只要传出360公司创始人被警察带走调查的消息，就算我们没有任何问题和错误，舆论天平也会不分青红皂白地向一边倾斜，我们可能连解释的机会都没有了。而一段时间公司没有核心领导人，就像战场上没有了将军，势必导致军心涣散，大军溃败。<br>这个时候，容不得丝毫闪失。<br>“你看看你现在能飞哪儿，就赶紧先飞过去。剩下的以后再说。”老齐对我说。<br>在车里，我翻出了自己随身携带的护照，看了看上面所有签证的有效日期。10月28日我刚刚从香港回到北京此时我还有香港的有效签注，因此返回香港是最便捷的选择。<br>“我有香港的签证，还有日本和美国的。”<br>“去香港吧！”<br>“嗯！”<br>这一刻，我好像来到了《盗梦空间》的某一个时刻，不知道处在梦境的第几个层次。<br>“掉头，直接去机场！”我对司机说。<br>车掉头后开向了首都机场，我直接飞到了香港。</p>
</blockquote>
<p>惊险刺激犹如小说电影的情节，感叹企业家的不易：</p>
<blockquote>
<p>这是一种很稀缺的优秀品质。我们谈论的不是对风险的普通容忍，也不是高于平均水平的容忍。要成为一个企业家，你需要极大的勇气、疯狂的激情和超出理性的决心，忍受反复出现的近乎死亡的体验。</p>
</blockquote>
<hr>
<p>这本传记对我最大的启发是重新认识了“效率”这个词。效率不是标量，而是向量。</p>
<p>标量是只有大小的量。我们在日常的语言体系中只提效率的高低，把它当作了标量。但这本书让我发现效率其实是向量，如果在一开始就走错了方向，再有多高的效率，也只有离目标越来越远。但从另一个角度来看，即使很早就认清了方向，如果效率的大小不够，也需要很久才能走到目标。</p>
<p>但效率高也是有优势的，因为效率高即使没有找一开始就认清方向，经过试错后再认清方向，然后及时调整，朝正确方向走，也更容易达到目标。从周鸿祎的经历来看，他高密度高效率的经历过很多试错，最终找到了方向，同时又是异于常人的努力，最终达到了很多人无法企及的高度。</p>
<p>可以用这个公式来作为总结：大的“模长”（向量的大小，也就是我们日常中所说的高效率）+ 及时认清并调整错误方向 + 坚持正确方向 =（才等于） 高效率。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/26/ML-Adaboost/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/26/ML-Adaboost/" itemprop="url">机器学习之Adaboost元算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-26T11:55:48-04:00">
                2018-05-26
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/26/ML-Adaboost/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/26/ML-Adaboost/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/05/26/ML-Adaboost/" class="leancloud_visitors" data-flag-title="机器学习之Adaboost元算法">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="《机器学习实战》第7章-利用AdaBoost元算法提高分类性能"><a href="#《机器学习实战》第7章-利用AdaBoost元算法提高分类性能" class="headerlink" title="《机器学习实战》第7章 利用AdaBoost元算法提高分类性能"></a>《机器学习实战》第7章 利用AdaBoost元算法提高分类性能</h1><p>最近的机器学习课程要求博客分享学习报告，因此借助博客进行分享，希望大家提出宝贵意见。此外由于还没有搞清楚hexo如何分栏目，所以暂未进行分栏，接下来熟悉后会对文章进行分栏等处理，保持博客的“清爽”。</p>
<h2 id="7-1-基于数据集多重抽样的分类器"><a href="#7-1-基于数据集多重抽样的分类器" class="headerlink" title="7.1 基于数据集多重抽样的分类器"></a>7.1 基于数据集多重抽样的分类器</h2><p>集成方法(<code>ensemble method</code>)又称为元算法(<code>meta-algorithm</code>)是对其他算法进行组合的一种方式，组合的方式主要有：</p>
<p>①不同的分类算法集成（KNN、决策树、朴素贝叶斯、Logistics、SVM等分类算法进行集成）<br>②同一算法在不同设置下集成（算法参数不同）<br>③数据集不同部分分配给不同分类器之后的集成</p>
<p>通常来讲一个集成分类器的分类性能将优于单个的分类器，单个分类器如果是一个决策者，集成学习的方法则为多决策者共同决策一个问题。</p>
<h3 id="7-1-1-bagging-基于数据随机重抽样的分类器构建方法"><a href="#7-1-1-bagging-基于数据随机重抽样的分类器构建方法" class="headerlink" title="7.1.1 bagging 基于数据随机重抽样的分类器构建方法"></a>7.1.1 bagging 基于数据随机重抽样的分类器构建方法</h3><p>bagging方法是在从原始数据集选择S次后得到S个新数据集的一种技术。每个数据集都是通过在原始数据集中随机选择一个样本来进行替换得到的。新数据集中可能有重复的值，也原始数据集中有新集合中没有的值。bagging又叫做bootstrap aggregating，是一种根据均匀概率分布从数据中重复抽样即有放回的技术。</p>
<p><strong>bagging方法的过程：</strong></p>
<p>某个学习算法至每个数据集至S个分类器至投票结果的最多类别<br>先进的bagging方法：随机森林<br>因此：<br>Bagging方法的性能依赖于及分类器的稳定性，若基分类器稳定，该方法误差主要源于基分类器的偏差，若该方法不稳定，则该方法有助于降低训练数据随机波动造成的误差。此外由于基于均匀分布，每个样本被选中的概率相同，因此该方法不侧重于某一实例。</p>
<h3 id="7-1-2-boosting"><a href="#7-1-2-boosting" class="headerlink" title="7.1.2 boosting"></a>7.1.2 boosting</h3><p>boosting通过集中关注被已有分类器错分的那些数据来获得新的分类器，是一个迭代的过程。由于boosting分类结果是基于所有分类器的加权求和结果的，因此boosting中分类器权重不相等，每个权重代表的是其对应分类器上一轮迭代中的成功度（每一轮结束后都加大错误值的权重，减少正确值的权重）。其中adaboosting较有代表性。</p>
<h2 id="7-2-训练算法：基于错误提升分类器的性能"><a href="#7-2-训练算法：基于错误提升分类器的性能" class="headerlink" title="7.2 训练算法：基于错误提升分类器的性能"></a>7.2 训练算法：基于错误提升分类器的性能</h2><p>Adaboosting算法运行过程：</p>
<p><strong>step1</strong>初始化：在训练数据中的每个样本赋予权重，权重构成向量D，初始状态下将各个权重初始化为相等值。</p>
<p><strong>step2</strong>训练+错误率计算：在训练数据上训练处一个弱分类器并计算错误率。多个分类器之间由alpha权重协调，alpha基于每个弱分类器错误率进行计算，得到的alpha加权结果求和输出。</p>
<p><strong>step3</strong>权重调整：更新权重向量D，调整每个样本权重，分对的权重降低，分错的权重提高。</p>
<p><strong>step4</strong>结束条件：若训练错误率为0或弱分类器的数目达到用户的指定值，循环停止，否则进入step2开始下一循环。</p>
<p>以上过程中，错误率$\epsilon$的定义为：</p>
<h2 id="7-3-基于单层决策树构建弱分类器"><a href="#7-3-基于单层决策树构建弱分类器" class="headerlink" title="7.3 基于单层决策树构建弱分类器"></a>7.3 基于单层决策树构建弱分类器</h2><p>此步骤中主要构建了stumpClassify与buildStump两个函数用于弱分类器的构建。stumpClassify函数可以用于测试是否有某个值小于或大于我们正在测试的阈值。buildStump函数调用了stumpClassify函数，用于找到具有最低错误率的单层决策树。</p>
<p>该步骤相当于完成了adaboosting算法中的一次迭代过程。</p>
<p>stumpClassify的伪代码过程为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">设置最小错误率minerror为$+\infty$</span><br><span class="line">对数据集中的每个特征：</span><br><span class="line">	对每个步长：</span><br><span class="line">		对每个不等号可能：</span><br><span class="line">			建立一颗单层决策树并利用加权数据集对其进行测试</span><br><span class="line">			如果错误率低于minerror，则将单签决策树设置为最佳单层决策树</span><br><span class="line">返回最佳决策树的相关参数</span><br></pre></td></tr></table></figure>
<p>本部分具体代码及自行添加的详细注释将在最后的代码部分附加~</p>
<h2 id="7-4-完整AdaBoost算法的实现"><a href="#7-4-完整AdaBoost算法的实现" class="headerlink" title="7.4 完整AdaBoost算法的实现"></a>7.4 完整AdaBoost算法的实现</h2><p>接下来将利用7.3中的一次迭代过程来实现7.2中所涉及到的Adaboost算法。</p>
<p>该过程的伪代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">每次迭代：</span><br><span class="line">	利用buildStump()函数找到最佳的单层决策树</span><br><span class="line">	将最佳单层决策树加入到单层决策树组</span><br><span class="line">	依据公式计算alpha</span><br><span class="line">	计算新的权重向量D</span><br><span class="line">	更新累计类别估计值</span><br><span class="line">	如果错误率等于0.0，则退出循环</span><br></pre></td></tr></table></figure></p>
<p>此循环通过编写adaBoostTrainDS()函数实现，函数及具体步骤的解释同样在最后的代码部分阐述。</p>
<h2 id="7-5-测试算法：基于AdaBoost的分类"><a href="#7-5-测试算法：基于AdaBoost的分类" class="headerlink" title="7.5 测试算法：基于AdaBoost的分类"></a>7.5 测试算法：基于AdaBoost的分类</h2><p>基于adaboos的分类在adaBoostTrainDS中已经基本完成，此处需要将弱分类器的训练过程抽出并应用于具体实例，每个弱分类器的结果以其对应的alpha值作为权重，所有弱分类器的分类结果加权求和得到最后的结果。</p>
<p>此步骤中构建AdaClassify()函数，其是利用训练处的多个弱分类器进行分类的函数。</p>
<p>该过程伪代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">输入待分类样例、多个弱分类器组成的数组</span><br><span class="line">转换待分类样例为numpy矩阵，获取待分类样例个数m，构建0列向量aggClassEst</span><br><span class="line">遍历多个弱分类器组成的数组的全部弱分类器：</span><br><span class="line">	调用StumpClassify对每个分类器得到一个类别估计值</span><br><span class="line">	累加aggClassEst，累加值为输出的类别估计值*该单层决策树的alpha权重</span><br><span class="line">返回aggClassEst的符号，大于0，则返回+1，小于0返回-1.</span><br></pre></td></tr></table></figure></p>
<h2 id="此前各函数代码："><a href="#此前各函数代码：" class="headerlink" title="此前各函数代码："></a>此前各函数代码：</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stumpClassify</span><span class="params">(dataMatrix,dimen,threshVal,threshIneq)</span>:</span> <span class="comment">#通过阈值比较对数据进行分类</span></span><br><span class="line">    retArray = ones((shape(dataMatrix)[<span class="number">0</span>],<span class="number">1</span>))<span class="comment">#先全部设置为1</span></span><br><span class="line">    <span class="keyword">if</span> threshIneq == <span class="string">'lt'</span>:<span class="comment">#ifelse条件用于不等号的切换</span></span><br><span class="line">        retArray[dataMatrix[:,dimen] &lt;= threshVal] = <span class="number">-1.0</span><span class="comment">#不满足不等式要求设置为-1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        retArray[dataMatrix[:,dimen] &gt; threshVal] = <span class="number">-1.0</span><span class="comment">#不满足不等式要求设置为-1</span></span><br><span class="line">    <span class="keyword">return</span> retArray</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">buildStump</span><span class="params">(dataArr,classLabels,D)</span>:</span><span class="comment">#用于遍历stumpClassify函数所有可能的输入值，并找到该数据集上的最佳单层决策树</span></span><br><span class="line">    dataMatrix = mat(dataArr); labelMat = mat(classLabels).T<span class="comment">#转换为符合条件的格式</span></span><br><span class="line">    m,n = shape(dataMatrix) <span class="comment">#m是样本数，n是特征数</span></span><br><span class="line">    numSteps = <span class="number">10.0</span>; bestStump = &#123;&#125;; bestClasEst = mat(zeros((m,<span class="number">1</span>)))<span class="comment">#建立空字典，存储给定权重向量D是的最佳单层决策树</span></span><br><span class="line">    minError = inf  <span class="comment">#用于寻找可能的最小错误率，初始化为无穷大</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):<span class="comment">#遍历数据集的所有特征</span></span><br><span class="line">        rangeMin = dataMatrix[:,i].min(); rangeMax = dataMatrix[:,i].max();</span><br><span class="line">        stepSize = (rangeMax-rangeMin)/numSteps <span class="comment">#根据最小值与最大值确定步长</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">-1</span>,int(numSteps)+<span class="number">1</span>): <span class="comment">#遍历该特征上的每个步子</span></span><br><span class="line">            <span class="keyword">for</span> inequal <span class="keyword">in</span> [<span class="string">'lt'</span>, <span class="string">'gt'</span>]: <span class="comment">#在小于(less than)与大于(greater than)之间切换</span></span><br><span class="line">                threshVal = (rangeMin + float(j) * stepSize) <span class="comment">#得到每个步子的划分阈值</span></span><br><span class="line">                predictedVals = stumpClassify(dataMatrix,i,threshVal,inequal) <span class="comment">#调用stumpClassify</span></span><br><span class="line">                errArr = mat(ones((m,<span class="number">1</span>))) <span class="comment">#初始化错误对照矩阵为全1</span></span><br><span class="line">                errArr[predictedVals == labelMat] = <span class="number">0</span> <span class="comment">#预测结果与标签一致则改为0</span></span><br><span class="line">                weightedError = D.T*errArr  <span class="comment">#计算总错误，用权重向量D与错误向量相乘并求和</span></span><br><span class="line">                <span class="comment">#print ("split: dim %d, thresh %.2f, thresh ineqal: %s, the weighted error is %.3f" % (i, threshVal, inequal, weightedError))</span></span><br><span class="line">                <span class="keyword">if</span> weightedError &lt; minError:</span><br><span class="line">                    minError = weightedError <span class="comment">#更新最小错误率</span></span><br><span class="line">                    bestClasEst = predictedVals.copy() <span class="comment">#存储树的相关信息</span></span><br><span class="line">                    bestStump[<span class="string">'dim'</span>] = i</span><br><span class="line">                    bestStump[<span class="string">'thresh'</span>] = threshVal</span><br><span class="line">                    bestStump[<span class="string">'ineq'</span>] = inequal</span><br><span class="line">    <span class="keyword">return</span> bestStump,minError,bestClasEst <span class="comment">#返回存储最佳单层决策树的字典、错误两次和类别估计值</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">adaBoostTrainDS</span><span class="params">(dataArr,classLabels,numIt=<span class="number">40</span>)</span>:</span><span class="comment">#用于构建完整的adaboost过程，调用buildStump函数；numIt为迭代次数，需要用户指定</span></span><br><span class="line">    weakClassArr = []</span><br><span class="line">    m = shape(dataArr)[<span class="number">0</span>] <span class="comment">#m为数据集数据点数数</span></span><br><span class="line">    D = mat(ones((m,<span class="number">1</span>))/m)   <span class="comment">#D为概率分布向量，包含了每个数据点的权重，将权重矩阵D初始化为相等值1/m</span></span><br><span class="line">    aggClassEst = mat(zeros((m,<span class="number">1</span>)))  <span class="comment">#列向量，用于记录每个数据点的类别估计累计值</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(numIt): <span class="comment">#主循环段，停止条件为次数到达numIt或错误率为0.0</span></span><br><span class="line">        bestStump,error,classEst = buildStump(dataArr,classLabels,D)<span class="comment">#建立单层决策树</span></span><br><span class="line">        <span class="comment">#print ("D:",D.T)</span></span><br><span class="line">        alpha = float(<span class="number">0.5</span>*log((<span class="number">1.0</span>-error)/max(error,<span class="number">1e-16</span>)))<span class="comment">#计算alpha，用于告诉总分类器本次单层决策树输出结果的权重，max函数防止除0溢出</span></span><br><span class="line">        bestStump[<span class="string">'alpha'</span>] = alpha  <span class="comment">#将alpha值加入bestStump字典</span></span><br><span class="line">        weakClassArr.append(bestStump)  <span class="comment">#保存信息</span></span><br><span class="line">        <span class="comment">#print ("classEst: ",classEst.T)</span></span><br><span class="line">        <span class="comment">#用于下一次迭代权重矩阵D的计算</span></span><br><span class="line">        expon = multiply(<span class="number">-1</span>*alpha*mat(classLabels).T,classEst) <span class="comment">#exponent for D calc, getting messy</span></span><br><span class="line">        D = multiply(D,exp(expon))                              <span class="comment">#Calc New D for next iteration</span></span><br><span class="line">        D = D/D.sum()</span><br><span class="line">        <span class="comment">#aggClassEst保持运行时的类别估计值。如果总错误率为0，则提前结束循环</span></span><br><span class="line">        aggClassEst += alpha*classEst</span><br><span class="line">        <span class="comment">#print ("aggClassEst: ",aggClassEst.T)</span></span><br><span class="line">        <span class="comment">#错误率累加计算</span></span><br><span class="line">        aggErrors = multiply(sign(aggClassEst) != mat(classLabels).T,ones((m,<span class="number">1</span>)))</span><br><span class="line">        errorRate = aggErrors.sum()/m</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"total error: "</span>,errorRate)</span><br><span class="line">        <span class="keyword">if</span> errorRate == <span class="number">0.0</span>: <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> weakClassArr,aggClassEst</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">adaClassify</span><span class="params">(datToClass,classifierArr)</span>:</span></span><br><span class="line">    dataMatrix = mat(datToClass)<span class="comment">#do stuff similar to last aggClassEst in adaBoostTrainDS</span></span><br><span class="line">    m = shape(dataMatrix)[<span class="number">0</span>]</span><br><span class="line">    aggClassEst = mat(zeros((m,<span class="number">1</span>)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(classifierArr)):</span><br><span class="line">        classEst = stumpClassify(dataMatrix,classifierArr[<span class="number">0</span>][i][<span class="string">'dim'</span>],\ <span class="comment">#注意[i]前面需添加[0]</span></span><br><span class="line">                                 classifierArr[<span class="number">0</span>][i][<span class="string">'thresh'</span>],\</span><br><span class="line">                                 classifierArr[<span class="number">0</span>][i][<span class="string">'ineq'</span>])   <span class="comment">#call stump classify</span></span><br><span class="line">        aggClassEst += classifierArr[<span class="number">0</span>][i][<span class="string">'alpha'</span>]*classEst</span><br><span class="line">        <span class="keyword">print</span> (aggClassEst)</span><br><span class="line">    <span class="keyword">return</span> sign(aggClassEst)</span><br></pre></td></tr></table></figure>
<h2 id="7-6-在其他数据集上应用Adaboost"><a href="#7-6-在其他数据集上应用Adaboost" class="headerlink" title="7.6 在其他数据集上应用Adaboost"></a>7.6 在其他数据集上应用Adaboost</h2><p>在应用adaboost算法是，我们需要经过以下步骤，且本次讨论的程序仅用于二分类问题，若希望处理多分类问题，则需要对程序进行改写：</p>
<p>step1：收集数据，划分训练集与测试集</p>
<p>step2：准备数据：确保类别标签是+1与-1而非1和0</p>
<p>step3：分析数据：手工检查数据，查看数据缺失状况</p>
<p>step4：训练算法：在数据上利用AdaBoostTrainDS()函数训练一系列分类器</p>
<p>step5：测试算法：使用adaClassify()函数测试算法的错误率</p>
<p>step6：使用算法</p>
<p>此步骤中包含数据文件加载的过程：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadDataSet</span><span class="params">(fileName)</span>:</span>   <span class="comment">#用于读入txt文件数据，并划分为特征和标签</span></span><br><span class="line">    numFeat = len(open(fileName).readline().split(<span class="string">'\t'</span>)) <span class="comment">#get number of fields</span></span><br><span class="line">    dataMat = []; labelMat = []</span><br><span class="line">    fr = open(fileName)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> fr.readlines():</span><br><span class="line">        lineArr =[]</span><br><span class="line">        curLine = line.strip().split(<span class="string">'\t'</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(numFeat<span class="number">-1</span>):</span><br><span class="line">            lineArr.append(float(curLine[i]))</span><br><span class="line">        dataMat.append(lineArr)</span><br><span class="line">        labelMat.append(float(curLine[<span class="number">-1</span>]))</span><br><span class="line">    <span class="keyword">return</span> dataMat,labelMat</span><br></pre></td></tr></table></figure>
<p>之后，可利用如下程序应用Adaboost算法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>datArr, labelArr = boadDataSet(<span class="string">'训练集文件名.txt'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classifierArray = adaBoostTrainDS(datArr, labelArr, 指定的分类器数目)</span><br><span class="line">将输出训练错误率</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>testArr, testLabelArr = loadDataSet(<span class="string">'测试集文件名.txt'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>prediction分类器数目 = adaClassify(testArr, classifierArray)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>errArr = mat(ones((测试集样本数,<span class="number">1</span>)))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>errArr[prediction分类器数目 != mat(testLabelArr).T].sum()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>errorrate = (errArr[prediction分类器数目 != mat(testLabelArr).T].sum())/测试集样本数</span><br></pre></td></tr></table></figure>
<p>通过指定不同的分类器数目，可以看到训练错误率与测试错误率的变化，在这一过程中可能会出现，随着分类器数目的增加，训练错误率逐渐降低，但测试错误率先降低后升高的现象，这类现象称为<strong>过拟合</strong>。</p>
<p>12:00ddl到了，不得不先deploy此篇文章了，接下来的非均衡分类问题待我一会儿补全~</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/20/20180520 computer science/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/20/20180520 computer science/" itemprop="url">重拾计算机</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-20T19:27:30-04:00">
                2018-05-20
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/20/20180520 computer science/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/20/20180520 computer science/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/05/20/20180520 computer science/" class="leancloud_visitors" data-flag-title="重拾计算机">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>计算机是我当年填志愿失之交臂的专业，因为被告知学计算机的人，年龄越大越拼不过年轻人。而当时的我，没有这方面的判断能力，果断放弃计算机。虽然我觉得现在所学的专业也很好，但是回想起当初的自己，感觉确实太过草率。</p>
<p>大学本科的时候我依然对计算机感兴趣，也决心自己要学好它，但是对于“学好”二字的理解比较肤浅。仅仅是把所有和计算机相关的课程考上90分。后来也真的做到了，但是自己的计算机水平离够用还相差甚远，以至于到今天和身边的高手有较大差距。</p>
<p>也许这就是认知差异的蝴蝶效应。对于很多简单而朴素的道理，认识得早晚/正确行动的早晚的差距是指数级的。这个时代已经完全被计算机的发展改变，如果早期就能认准这个趋势，朝着正确的方向积累，那么现在的情况一定要好很多。</p>
<p>现在很热门的大数据已经在各行扩散开来，包括我自己的研究方向-交通。如果想在这方面跟上节奏，数学、计算机功底都是必不可少的；想要在这方面创新的话，还必须把这两个工具用得随心所欲。但是不经过一段时间扎实的积累，是无法达到这样的水平的，就像怀胎十月一样，少一个月都会出问题。</p>
<p>后来，我的计算机水平一直没有大的进步，最多停留在用初级和非主流的工具写写简单的数据处理程序。很快就来到了我毕业后的工作，那时我无数次说听说现在编程的主流工具是Python和R，也无数次想去学。但结果是：即使知道应该怎么做之后，我竟然做到了近两年没有真正践行。又一次印证了要真的做到是一件多么难的事情。（第一篇的链接）后来，我到了NYU访学，身边的朋友都在用Python或R，有时路过我办公桌旁的陌生人也在谈论着这些工具。逐渐的，我感觉自己进入到了另一个世界，开始真正的学习R。</p>
<p>在NYU，我还旁听了一门课，并获得了学习R的最少必要知识：安装，查帮助文档，查stack overflow，开个印象笔记做记录，打印cheatsheet随时查阅。这几乎就是我学习R的全部方法。同时，我把R用于解决自己以前遇到瓶颈的问题。往往在目的性很强的状态下做事情容易成功，伴随着克服了一个又一个问题带来的正向反馈，我充分建立了自信，持续正向积累。现在，我已经能用R来解决大部分我所遇到的问题。</p>
<p>但这样的学习方式仍然是有边界的，它受限于任务和眼界。记得自己从使用循环升级到矩阵运算函数后，我对效率的指数级提升十分满意。直到有一天我遇到了一位学Computer Science（CS）并和我做类似事情的同学。他告诉我，他已经不用单机跑程序，因为运算量太大。个人电脑可以用来写代码和控制，运行程序他们采用机群（Cluster）。后来了解到，机群是大量的计算机组成的网络，通常有几百上千个核心来运算，速度是单机无法匹及的。我脑海里浮现出一副画面：装配大刀长矛部落在对抗拿着洋枪洋炮的现代化军队。这个例子也可以用来说明学习环境、跨领域交流的重要性。偶尔不经意的交流就可以让你跨越边界。</p>
<p>未来我会在计算机方面投入精力补课，另一方面需要补课的是统计。很多行业的功夫确实在门外，交通的研究就太依赖这两样工具了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/20180124 Boss Thinking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/20180124 Boss Thinking/" itemprop="url">培养老板思维起步</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T14:15:37-05:00">
                2018-01-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/24/20180124 Boss Thinking/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/24/20180124 Boss Thinking/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/01/24/20180124 Boss Thinking/" class="leancloud_visitors" data-flag-title="培养老板思维起步">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>“老板”一词被新中国改革开放后的那段历史赋予了褒贬不一的丰富含义。有兢兢业业，也有尔虞我诈，有锐意创新，也有山寨抄袭，有八面玲珑，也有高深莫测……无论社会赋予它多少含义，对我来说其中最重要的含义始终是：具有购买别人时间的资格。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/01/24/20180124 Boss Thinking/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/23/20180123 Chuan's Formation evolution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/23/20180123 Chuan's Formation evolution/" itemprop="url">Chuan's Formation博客进化(zhe teng)事件记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-23T11:10:52-05:00">
                2018-01-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/23/20180123 Chuan's Formation evolution/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/23/20180123 Chuan's Formation evolution/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/01/23/20180123 Chuan's Formation evolution/" class="leancloud_visitors" data-flag-title="Chuan's Formation博客进化(zhe teng)事件记录">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="1-Hexo创建"><a href="#1-Hexo创建" class="headerlink" title="1.Hexo创建"></a>1.Hexo创建</h2><ul>
<li>2018年1月2日</li>
<li><p>参考：<a href="http://lixiaolai.com/2016/06/12/makecs-preface/" target="_blank" rel="noopener">人人都是工程师</a>-&gt;<a href="http://lixiaolai.com/2016/06/22/makecs-build-a-blog-with-hexo-on-github/" target="_blank" rel="noopener">使用Hexo为自己在Github上建一个静态Blog站点</a></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/01/23/20180123 Chuan's Formation evolution/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/21/20180122 from 0 to 1 to learn blockchain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/21/20180122 from 0 to 1 to learn blockchain/" itemprop="url">从0到1全面学透区块链《学习笔记》(一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-21T14:46:23-05:00">
                2018-01-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/21/20180122 from 0 to 1 to learn blockchain/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/21/20180122 from 0 to 1 to learn blockchain/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/01/21/20180122 from 0 to 1 to learn blockchain/" class="leancloud_visitors" data-flag-title="从0到1全面学透区块链《学习笔记》(一)">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>今天在微信公众平台的“一块听听”上听了一门区块链的课程—《从0到1全面学透区块链》，课程讲师：朱嘉伟（火币网COO），下面是听课的笔记和个人的思考。另外，一块听听平台上有大量的区块链知识，基本都需要付费，但是个人觉得物超所值。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/01/21/20180122 from 0 to 1 to learn blockchain/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/13/20180113 proficiency in a particular line/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/13/20180113 proficiency in a particular line/" itemprop="url">一技之长</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-13T20:05:20-05:00">
                2018-01-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/13/20180113 proficiency in a particular line/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/13/20180113 proficiency in a particular line/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/01/13/20180113 proficiency in a particular line/" class="leancloud_visitors" data-flag-title="一技之长">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>iPhone有一个股市的APP。</p>
<p>我对它默认的那几只股票毫无感觉。因此，起初这个APP除了浪费流量外，其他方面毫无用处。</p>
<p>但是，我一直对伟大公司（和创业者）充满兴趣，而这样的公司大多上市了。于是，我发现可以用“股市”这个APP来记录我所关注的公司。然后，这个应用程序就这样被我用了起来，它俨然变成了我的“公司库”。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/01/13/20180113 proficiency in a particular line/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/02/20180102 hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chuan Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pi.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chuan's Formation">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/02/20180102 hello-world/" itemprop="url">写在2018年的开始</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-02T15:36:56-05:00">
                2018-01-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/02/20180102 hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/02/20180102 hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/01/02/20180102 hello-world/" class="leancloud_visitors" data-flag-title="写在2018年的开始">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>刚刚走完的2017年是对我十分重要的一年，因为这是我人生的第四次空间转换。前三次分别是：2002年，随父母离开老家西充来到成都；2009年，决定不再继续在成都念书，保研去上海；2014年研究生毕业回到成都工作和建立“大本营”。通常每次空间转换都伴随着思想和眼界的变化。而这一年，空间这个因素又变了：我来到了纽约。</p>
<p>众多的特立独行让纽约成为了一座独特的城市。在这里，不难见到很多负面的现象和现实：昂贵的房租/房价/就餐/医疗费用，老鼠横行/有人乞讨且经常改线的老旧地铁，拥挤不堪且滴声不断的道路交通，嘴里骂骂咧咧且在街道地铁里游走的神志不清者，无人照顾的在街道上拖着购物小车艰难前行的老人，可以将人急速冷却的凛冽寒冬，自动传到你耳朵里的恐袭或枪击报道…而作为一个天生的乐观主义者，映入我眼帘的是：赫赫有名的大学/博物美术馆/金融街/摩天楼/桥/公园/海滩，汇聚全球美食的餐饮选择和庞大华人群体支撑的中国美食供应（虽然味道和成都的美食还有差距，但据说比起美国其他地方已经是世外桃源了），无意外24小时不间断的地铁，有序且不拥挤的医院和随处可购的高效OTC药物，性价比很高的打折百货商店…列举到这里，想起最近关注的信息论的人生启示：要活出信息量。也许正是因为分别吸取了中西文化的信息量，让我迈过了一些底层的槛。今天想说说刚刚初步迈过的两个槛：阅读能力和注意力。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/01/02/20180102 hello-world/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/pi.jpeg"
                alt="Chuan Xu" />
            
              <p class="site-author-name" itemprop="name">Chuan Xu</p>
              <p class="site-description motion-element" itemprop="description">A man live on growth</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chuan Xu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        




  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=65037755";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://ChuanXu.disqus.com/count.js" async></script>
    

    

  




	





  














  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("Jq0QpeOz1nHh2tbf7xA67E7o-gzGzoHsz", "eMgJfNk6WTqxl4Lk0WqAJT4L");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



  

  

  
  

  

  

  

</body>
</html>
